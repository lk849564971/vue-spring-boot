{"remainingRequest":"F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\babel-loader\\lib\\index.js!F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\eclipse\\Spring-boot-vue\\front\\vue\\src\\components\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\eclipse\\Spring-boot-vue\\front\\vue\\src\\components\\Home.vue","mtime":1590891099012},{"path":"F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot-vue\\front\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiB7CiAgICAgIGRyYXdlcjogZmFsc2UsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICB1bm86IHRoaXMuJHJvdXRlLnF1ZXJ5LnVubywKICAgICAgdW5hbWU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnVuYW1lLAogICAgICBpbmRleERhdGE6ICcwJywKICAgICAgLy/lj5HpgIHor7fmsYLojrflj5bllYblk4Hkv6Hmga8KICAgICAgbGlzdEZvcm06IHRoaXMuJGF4aW9zKHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgICAgICB9LAogICAgICAgIG1ldGhvZDogInBvc3QiLAogICAgICAgIHVybDogImFwaS9hbGxDb21tb2RpdHkiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLmxpc3RGb3JtID0gcmVzLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChFcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKEVycm9yKTsKICAgICAgfSkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+agueaNrnN0YXRl55qE5YC85L+u5pS55pi+56S65L+h5oGvCiAgICBnZXRzdGF0ZTogZnVuY3Rpb24gZ2V0c3RhdGUoaW5kZXhzdGF0ZSkgewogICAgICBpZiAoaW5kZXhzdGF0ZSA9PT0gMSkgewogICAgICAgIHJldHVybiAi5bey6ZSB5a6aIjsKICAgICAgfSBlbHNlIGlmIChpbmRleHN0YXRlID09PSAyKSB7CiAgICAgICAgcmV0dXJuICLlt7LllK7nqboiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAi5peg5Lq66LSt5LmwIjsKICAgICAgfQogICAgfSwKICAgIC8v6LSt5Lmw5YmN55qE5qOA5p+lCiAgICBwcmVwYXJlQnV5OiBmdW5jdGlvbiBwcmVwYXJlQnV5KHNlbGxlcm5vLCBidXlzdGF0ZSkgewogICAgICBpZiAoYnV5c3RhdGUgPT0gMSB8fCBidXlzdGF0ZSA9PSAyKSB7CiAgICAgICAgdGhpcy4kYWxlcnQoIuatpOWVhuWTgeW9k+WJjeaXoOazlei0reS5sCIsICLmj5DnpLoiLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChzZWxsZXJubyA9PSB0aGlzLnVubykgewogICAgICAgIHRoaXMuJGFsZXJ0KCLkuI3og73otK3kubDoh6rlt7HnmoTllYblk4EiLCAi5o+Q56S6IiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8v5Y+R6YCB6LSt5Lmw6K+35rGCCiAgICBvbkJ1eTogZnVuY3Rpb24gb25CdXkobm8sIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kYXhpb3MoewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIgogICAgICAgIH0sCiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiAiYXBpL2J1eUNvbW1vZGl0eSIsCiAgICAgICAgZGF0YTogdGhpcy4kcXMuc3RyaW5naWZ5KHsKICAgICAgICAgIGNubzogbm8sCiAgICAgICAgICB1bm86IHRoaXMudW5vCiAgICAgICAgfSkKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOwoKICAgICAgICBpZiAocmVzLmRhdGEgPT0gdHJ1ZSkgewogICAgICAgICAgX3RoaXMyLiRhbGVydCgi6LSt5Lmw5oiQ5YqfIiwgIuaPkOekuiIsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiCiAgICAgICAgICB9KTsKCiAgICAgICAgICBfdGhpczIubGlzdEZvcm1baW5kZXhdLmNzdGF0ZSA9IDE7CiAgICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJGFsZXJ0KCLotK3kubDlpLHotKXor7fph43or5UiLCAi5o+Q56S6IiwgewogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzMi5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoRXJyb3IpIHsKICAgICAgICBfdGhpczIuJGFsZXJ0KCLotK3kubDlpLHotKXor7fph43or5UiLCAi5o+Q56S6IiwgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiCiAgICAgICAgfSk7CgogICAgICAgIGNvbnNvbGUubG9nKEVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mloflrZfov4flpJrml7bku6UuLi7mm7/mjaIKICAgIHNob3dmdWxsOiBmdW5jdGlvbiBzaG93ZnVsbCh0ZXh0KSB7CiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDcpIHsKICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHIoMCwgNSkgKyAnLi4uJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGV4dDsKICAgICAgfQogICAgfSwKICAgIC8v6YCA5Ye655m75b2VCiAgICBsb2dpbk91dDogZnVuY3Rpb24gbG9naW5PdXQoKSB7CiAgICAgIHRoaXMudW5vID0gIiI7CiAgICAgIHRoaXMudW5hbWUgPSAiIjsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0sCiAgICAvL+WIm+W7ugogICAgY3JlYXRlT3JkZXI6IGZ1bmN0aW9uIGNyZWF0ZU9yZGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIkNyZWF0ZU9yZGVyIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgdW5hbWU6IHRoaXMudW5hbWUsCiAgICAgICAgICB1bm86IHRoaXMudW5vCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+afpeeci+iuouWNlQogICAgbXlPcmRlcjogZnVuY3Rpb24gbXlPcmRlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJNeU9yZGVyIiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgdW5hbWU6IHRoaXMudW5hbWUsCiAgICAgICAgICB1bm86IHRoaXMudW5vCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+afpeeci+i0reS5sOeahOWVhuWTgQogICAgbXlDb21tb2RpdHk6IGZ1bmN0aW9uIG15Q29tbW9kaXR5KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogIk15Q29tbW9kaXR5IiwKICAgICAgICBxdWVyeTogewogICAgICAgICAgdW5hbWU6IHRoaXMudW5hbWUsCiAgICAgICAgICB1bm86IHRoaXMudW5vCiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-container style=\"margin-top:100px\">\n    <!-- 侧边栏 -->\n    <el-aside width=\"210px\">\n      <div style=\"margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px\">\n        <el-button style=\"font-size:15px; width:190px\" type=\"warning\" @click=\"loginOut()\" round>退出登录</el-button>\n        <br /><br />用户id:{{uno}}<br/>用户名:{{uname}}<br />位置:商品购买页<br /><br />\n        <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"createOrder()\" round>上架商品</el-button>\n        <br />\n        <br />\n        <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"myOrder()\" round>我的订单</el-button>\n        <br />\n        <br />\n        <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"myCommodity()\" round>我的商品</el-button>\n      </div>\n    </el-aside>\n\n    <!-- 主要部分 -->\n    <el-main>\n      <el-card>\n        <!-- 列表头 -->\n        <el-row gutter=\"1\">\n          <el-col :span=\"3\">\n            <div>序号</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>名称</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>价格/元</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>描述</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>出售状态</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>发售时间</div>\n          </el-col>\n        </el-row>\n        <!-- 列表 -->\n        <li v-for=\"(item,index) in listForm\" :key=\"item\" >\n          <el-row gutter=\"1\">\n            <div>\n              <el-col :span=\"3\">\n                <div>{{item.cno}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{showfull(item.cname)}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{item.cprice.toFixed(2)}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{showfull(item.cinformation)}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{getstate(item.cstate)}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{item.ctime}}</div>\n              </el-col>\n\n              <el-col :span=\"2\" >\n                <div>\n                  <el-button type=\"primary\" @click=\"indexData=index;drawer = true\">详情</el-button>\n                  <el-drawer\n                    title=\"商品详情\"\n                    :visible.sync=\"drawer\"\n                    :direction=\"direction\"\n                    :before-close=\"handleClose\"\n                  >\n                    <el-form :model=\"form\">\n                      <el-form-item label=\"序号： \" :label-width=\"formLabelWidth\">{{listForm[indexData].cno}}</el-form-item>\n                      <el-form-item label=\"商品名称: \" :label-width=\"formLabelWidth\">{{listForm[indexData].cname}}</el-form-item>\n                      <el-form-item label=\"价格/元: \" :label-width=\"formLabelWidth\">{{listForm[indexData].cprice.toFixed(2)}}\n                      </el-form-item>\n                      <el-form-item label=\"描述: \" :label-width=\"formLabelWidth\">{{listForm[indexData].cinformation}}</el-form-item>\n                      <el-form-item label=\"售出状态: \" :label-width=\"formLabelWidth\">{{getstate(listForm[indexData].cstate)}}\n                      </el-form-item>\n                      <el-form-item label=\"发售时间: \" :label-width=\"formLabelWidth\">{{listForm[indexData].ctime}}</el-form-item>\n                    </el-form>\n                  </el-drawer>\n                </div>\n              </el-col>\n\n              <el-col :span=\"2\" >\n                <div>\n                  <el-button type=\"success\" @click=\"indexData=index;prepareBuy(listForm[index].uno,listForm[index].cstate)\">\n                    购买</el-button>\n                  <el-dialog\n                    title=\"购买确认\"\n                    :visible.sync=\"dialogVisible\"\n                    width=\"30%\"\n                    :before-close=\"handleClose\"\n                  >\n                  商品: {{listForm[indexData].cname}}<br>\n                  价格: {{listForm[indexData].cprice.toFixed(2)}}元<br><br>\n                    <el-button type=\"success\" @click=\"onBuy(listForm[indexData].cno,indexData)\">确认购买</el-button>\n                    <el-button type=\"warning\" @click=\"dialogVisible = false\">取消购买</el-button>\n                  </el-dialog>\n                </div>\n              </el-col>\n            </div>\n          </el-row>\n        </li>\n      </el-card>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      drawer: false,\n      dialogVisible: false,\n      uno: this.$route.query.uno,\n      uname: this.$route.query.uname,\n      indexData:'0',\n      //发送请求获取商品信息\n      listForm: this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"post\",\n        url: \"api/allCommodity\"\n      })\n        .then(res => {\n          this.listForm = res.data;\n        })\n        .catch(Error => {\n          console.log(Error);\n        })\n    };\n  },\n  methods: {\n    //根据state的值修改显示信息\n    getstate(indexstate){\n      if (indexstate === 1){\n        return \"已锁定\"\n      }\n      else if (indexstate === 2){\n        return \"已售空\"\n      }\n      else{\n        return \"无人购买\"\n      }\n    },\n\n    //购买前的检查\n    prepareBuy(sellerno,buystate){\n      if(buystate == 1 || buystate == 2){\n        this.$alert(\"此商品当前无法购买\", \"提示\", {\n          confirmButtonText: \"确定\"\n        });\n      }\n      else if(sellerno == this.uno){\n        this.$alert(\"不能购买自己的商品\", \"提示\", {\n          confirmButtonText: \"确定\"\n        });\n      }\n      else{\n        this.dialogVisible = true\n      }\n    },\n\n    //发送购买请求\n    onBuy(no,index) {\n      this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"POST\",\n        url: \"api/buyCommodity\",\n        data: this.$qs.stringify({ \n          cno: no,\n          uno: this.uno})\n      })\n        .then(res => {\n          console.log(res.data);\n          if (res.data == true) {\n            this.$alert(\"购买成功\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n            this.listForm[index].cstate = 1;\n            this.dialogVisible = false;\n          } else {\n            this.$alert(\"购买失败请重试\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n            this.dialogVisible = false;\n          }\n        })\n        .catch(Error => {\n          this.$alert(\"购买失败请重试\", \"提示\", {\n            confirmButtonText: \"确定\"\n          });\n          console.log(Error);\n        });\n    },\n\n    //文字过多时以...替换\n    showfull(text){\n      if (text.length > 7){\n        return text.substr(0, 5) + '...'\n      }\n      else{\n        return text\n      }\n    },\n\n    //退出登录\n    loginOut() {\n      this.uno = \"\";\n      this.uname = \"\";\n      this.$router.push(\"/\");\n    },\n\n    //创建\n    createOrder() {\n      this.$router.push({\n        name: \"CreateOrder\",\n        query: {\n          uname: this.uname,\n          uno: this.uno\n        }\n      });\n    },\n\n    //查看订单\n    myOrder() {\n      this.$router.push({\n        name: \"MyOrder\",\n        query: {\n          uname: this.uname,\n          uno: this.uno\n        }\n      });\n    },\n\n    //查看购买的商品\n    myCommodity() {\n      this.$router.push({\n        name: \"MyCommodity\",\n        query: {\n          uname: this.uname,\n          uno: this.uno\n        }\n      });\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/components"}]}