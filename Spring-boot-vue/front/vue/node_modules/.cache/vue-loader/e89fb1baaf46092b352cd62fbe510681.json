{"remainingRequest":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\eclipse\\Spring-boot\\front\\secondhand\\src\\components\\Home.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\src\\components\\Home.vue","mtime":1590587409229},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wdWJsaXNoLWJ1dHRvbiB7CiAgbWFyZ2luLXJpZ2h0OiAxNXB4OwogIGZvbnQtc2l6ZTogMzBweDsKICBmb250LXdlaWdodDogYm9sZDsKfQouZWwtYXNpZGUgewogIG1hcmdpbi10b3A6IDhweDsKICBmb250LXNpemU6IDIzcHg7CiAgLyogaGVpZ2h0OiBhdXRvOyAqLwp9CgouZWwtcm93IHsKICBtYXJnaW4tYm90dG9tOiAyMHB4Owp9Ci5lbC1jb2wgewogIGJvcmRlci1yYWRpdXM6IDRweDsKfQouYmctcHVycGxlLWRhcmsgewogIGJhY2tncm91bmQ6ICM5OWE5YmY7Cn0KLmJnLXB1cnBsZSB7CiAgYmFja2dyb3VuZDogI2QzZGNlNjsKfQouYmctcHVycGxlLWxpZ2h0IHsKICBiYWNrZ3JvdW5kOiAjZTVlOWYyOwp9Ci5ncmlkLWNvbnRlbnQgewogIGJvcmRlci1yYWRpdXM6IDRweDsKICBtaW4taGVpZ2h0OiA1MCBweDsKfQoucm93LWJnIHsKICBwYWRkaW5nOiAxMHB4IDA7CiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYzsKfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <el-container style=\"margin-top:100px\">\n      <!-- 侧边栏 -->\n      <el-aside width=\"210px\">\n        <div style=\"margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px\">\n          <el-button style=\"font-size:15px; width:190px\" type=\"warning\" @click=\"loginOut()\" round>退出登录</el-button>\n          <br /><br />账号:{{uno}}<br/>用户名:{{uname}}<br /><br />\n          <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"createOrder()\" round>创建订单</el-button>\n          <br />\n          <br />\n          <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"checkOrder()\" round>查看订单</el-button>\n        </div>\n      </el-aside>\n\n      <!-- 主要部分 -->\n      <el-main>\n        <!-- 列表头 -->\n        <el-row gutter=\"2\">\n          <el-col :span=\"5\">\n            <div style=\"text-align:center\">名称</div>\n          </el-col>\n          <el-col :span=\"5\">\n            <div style=\"text-align:center\">价格</div>\n          </el-col>\n          <el-col :span=\"5\">\n            <div style=\"text-align:center\">详情</div>\n          </el-col>\n          <el-col :span=\"5\">\n            <div style=\"text-align:center\">是否出售</div>\n          </el-col>\n        </el-row>\n        <!-- 列表 -->\n        <li v-for=\"(item,index) in listForm\" :key=\"item\" >\n          <el-row gutter=\"2\">\n            <div>\n              <el-col :span=\"5\">\n                <div class=\"grid-content bg-purple\">{{item.cname}}</div>\n              </el-col>\n              <el-col :span=\"5\">\n                <div class=\"grid-content bg-purple-light\">{{item.cprice}}</div>\n              </el-col>\n              <el-col :span=\"5\">\n                <div class=\"grid-content bg-purple\">{{item.cinformation}}</div>\n              </el-col>\n              <el-col :span=\"5\">\n                <div class=\"grid-content bg-purple-light\">{{item.cstate}}</div>\n              </el-col>\n              <!-- 详情按钮 -->\n              <el-col :span=\"2\" >\n                <div>\n                  <el-button type=\"primary\" @click=\"indexData=index;drawer = true\">详情</el-button>\n                  <el-drawer\n                    title=\"商品详情\"\n                    :visible.sync=\"drawer\"\n                    :direction=\"direction\"\n                    :before-close=\"handleClose\"\n                  >\n                    <el-form :model=\"form\">\n                      <el-form-item label=\"商品名称: \" :label-width=\"formLabelWidth\">{{listForm[indexData].goodname}}</el-form-item>\n                      <el-form-item label=\"价格: \" :label-width=\"formLabelWidth\">{{listForm[indexData].price}}</el-form-item>\n                      <el-form-item label=\"详情: \" :label-width=\"formLabelWidth\">{{listForm[indexData].info}}</el-form-item>\n                      <el-form-item label=\"是否售出: \" :label-width=\"formLabelWidth\">{{listForm[indexData].isbuy}}</el-form-item>\n                    </el-form>\n                  </el-drawer>\n                </div>\n              </el-col>\n              <!-- 购买按钮 -->\n              <el-col :span=\"2\" >\n                <div>\n                  <el-button type=\"success\" @click=\"indexData=index;dialogVisible = true\">购买</el-button>\n                  <el-dialog\n                    title=\"购买确认\"\n                    :visible.sync=\"dialogVisible\"\n                    width=\"30%\"\n                    :before-close=\"handleClose\"\n                  >\n                  商品: {{listForm[indexData].goodname}}<br>\n                  价格: {{listForm[indexData].price}}<br><br>\n                    <el-button type=\"success\" @click=\"onBuy(listForm[indexData].goodid)\">确认购买</el-button>\n                    <el-button type=\"warning\">取消购买</el-button>\n                  </el-dialog>\n                </div>\n              </el-col>\n            </div>\n          </el-row>\n        </li>\n      </el-main>\n    </el-container>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      drawer: false,\n      dialogVisible: false,\n      uno: this.$route.query.uno,\n      uname: this.$route.query.uname,\n      buyid: \"\",\n\n      indexData:'0',\n      listForm: this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"get\",\n        url: \"api/listGoods\"\n      })\n        .then(res => {\n          this.listForm = res.data;\n        })\n        .catch(Error => {\n          console.log(Error);\n        })\n    };\n  },\n  methods: {\n    onBuy(id) {\n      this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"POST\",\n        url: \"api/selloutGood\",\n        data: this.$qs.stringify({ goodid: id })\n      })\n        .then(res => {\n          console.log(res.data);\n          if (res.data == true) {\n            this.$alert(\"购买成功\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n            this.$router.push({\n              name: \"Home\",\n              query: {\n                username: this.username,\n                userid: this.userid\n              }\n            });\n            this.dialogVisible = false;\n          } else {\n            this.$alert(\"购买失败请重试\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n            this.dialogVisible = false;\n          }\n        })\n        .catch(Error => {\n          this.$alert(\"购买失败请重试\", \"提示\", {\n            confirmButtonText: \"确定\"\n          });\n          console.log(Error);\n        });\n    },\n    //登出\n    loginOut() {\n      //防止路由记录\n      this.userid = \"\";\n      this.username = \"\";\n      this.$router.push(\"/\");\n    },\n\n    //创建订单\n    createOrder() {\n      this.$router.push({\n        name: \"CreateOrder\",\n        query: {\n          username: this.username,\n          userid: this.userid\n        }\n      });\n    },\n\n    //查看订单\n    checkOrder() {\n      this.$router.push({\n        name: \"CheckOrder\",\n        query: {\n          username: this.username,\n          userid: this.userid\n        }\n      });\n    }\n  }\n};\n</script>\n\n\n\n<style>\n\n.publish-button {\n  margin-right: 15px;\n  font-size: 30px;\n  font-weight: bold;\n}\n.el-aside {\n  margin-top: 8px;\n  font-size: 23px;\n  /* height: auto; */\n}\n\n.el-row {\n  margin-bottom: 20px;\n}\n.el-col {\n  border-radius: 4px;\n}\n.bg-purple-dark {\n  background: #99a9bf;\n}\n.bg-purple {\n  background: #d3dce6;\n}\n.bg-purple-light {\n  background: #e5e9f2;\n}\n.grid-content {\n  border-radius: 4px;\n  min-height: 50 px;\n}\n.row-bg {\n  padding: 10px 0;\n  background-color: #f9fafc;\n}\n</style>\n"]}]}