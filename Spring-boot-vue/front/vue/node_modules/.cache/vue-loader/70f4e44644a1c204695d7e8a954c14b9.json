{"remainingRequest":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\eclipse\\Spring-boot\\front\\secondhand\\src\\components\\MyCommdity.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\src\\components\\MyCommdity.vue","mtime":1590664131495},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVsLWhlYWRlciB7DQogIGJhY2tncm91bmQtY29sb3I6ICNiM2MwZDE7DQogIGNvbG9yOiAjMzMzOw0KICBsaW5lLWhlaWdodDogNjBweDsNCn0NCg0KLnB1Ymxpc2gtYnV0dG9uIHsNCiAgbWFyZ2luLXJpZ2h0OiAxNXB4Ow0KICBmb250LXNpemU6IDMwcHg7DQogIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KLmVsLWFzaWRlIHsNCiAgbWFyZ2luLXRvcDogOHB4Ow0KICBmb250LXNpemU6IDIzcHg7DQogIGJhY2tncm91bmQtY29sb3I6ICNhMGNjYTA7DQogIC8qIGhlaWdodDogYXV0bzsgKi8NCiAgY29sb3I6IGRhcmtzbGF0ZWdyYXk7DQp9DQoNCi5lbC1yb3cgew0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KfQ0KLmVsLWNvbCB7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCn0NCi5iZy1wdXJwbGUtZGFyayB7DQogIGJhY2tncm91bmQ6ICM5OWE5YmY7DQp9DQouYmctcHVycGxlIHsNCiAgYmFja2dyb3VuZDogI2QzZGNlNjsNCn0NCi5iZy1wdXJwbGUtbGlnaHQgew0KICBiYWNrZ3JvdW5kOiAjZTVlOWYyOw0KfQ0KLmdyaWQtY29udGVudCB7DQogIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgbWluLWhlaWdodDogNTAgcHg7DQp9DQoucm93LWJnIHsNCiAgcGFkZGluZzogMTBweCAwOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZjOw0KfQ0K"},{"version":3,"sources":["MyCommdity.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyCommdity.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <el-container style=\"margin-top:100px\">\r\n\r\n    <el-aside width=\"210px\">\r\n      <div style=\"margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px\">\r\n        <el-button style=\"font-size:15px; width:190px\" type=\"warning\" @click=\"loginOut()\" round>退出登录</el-button>\r\n        <br /><br />用户id:{{uno}}<br/>用户名:{{uname}}<br /><br />\r\n        <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"back()\" round>返回</el-button>\r\n        <br />\r\n        <br />\r\n        <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"myOrder()\" round>我的订单</el-button>\r\n      </div>\r\n    </el-aside>\r\n\r\n    <el-main>\r\n      <el-card>\r\n        <el-row gutter=\"2\">\r\n          <el-col :span=\"3\">\r\n            <div >商品ID</div>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <div>名称</div>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <div>价格</div>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <div>描述</div>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <div>购买状态</div>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <div>发售时间</div>\r\n          </el-col>\r\n        </el-row>\r\n\r\n        <li v-for=\"(item,index) in listForm\" :key=\"item\">\r\n          <el-row gutter=\"2\">\r\n            <div>\r\n              <el-col :span=\"3\">\r\n                <div>{{item.cno}}</div>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <div>{{item.cname}}</div>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <div>{{item.cprice}}</div>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <div>{{item.cinformation.substr(0, 8)}}</div>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <div>{{getstate(item.cstate)}}</div>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <div>{{item.ctime}}</div>\r\n              </el-col>\r\n\r\n              <el-col :span=\"2\">\r\n                <div>\r\n                  <el-button type=\"danger\" @click=\"prepareredelete(listForm[index].cstate)\">删除记录</el-button>\r\n                  <el-dialog\r\n                    title=\"删除确认\"\r\n                    :visible.sync=\"dialogVisible\"\r\n                    width=\"30%\"\r\n                    :before-close=\"handleClose\"\r\n                  >\r\n                    <el-button type=\"success\" @click=\"out(listForm[index].cno)\">确认删除</el-button>\r\n                    <el-button type=\"warning\" @click=\"dialogVisible = false\">取消</el-button>\r\n                  </el-dialog>\r\n                </div>\r\n              </el-col>\r\n\r\n              <el-col :span=\"2\">\r\n                <div>\r\n                  <el-button type=\"info\" @click=\"preparereout(listForm[index].cstate)\">下架商品</el-button>\r\n                  <el-dialog\r\n                    title=\"下架确认\"\r\n                    :visible.sync=\"dialogVisible2\"\r\n                    width=\"30%\"\r\n                    :before-close=\"handleClose\"\r\n                  >\r\n                    <el-button type=\"success\" @click=\"out(listForm[index].cno)\">确认下架</el-button>\r\n                    <el-button type=\"warning\" @click=\"dialogVisible2 = false\">取消</el-button>\r\n                  </el-dialog>\r\n                </div>\r\n              </el-col>\r\n            </div>\r\n          </el-row>\r\n        </li>\r\n      </el-card>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      drawer: false,\r\n      dialogVisible: false,\r\n      dialogVisible2: false,\r\n      uno: this.$route.query.uno,\r\n      uname: this.$route.query.uname,\r\n      listForm: this.$axios({\r\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n        method: \"post\",\r\n        url: \"api/myCommodity\",\r\n        data: this.$qs.stringify({ uno: this.$route.query.uno })\r\n      })\r\n        .then(res => {\r\n          this.listForm = res.data;\r\n        })\r\n        .catch(Error => {\r\n          console.log(Error);\r\n        })\r\n    };\r\n  },\r\n  methods: {\r\n    out(no) {\r\n      this.$axios({\r\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n        method: \"post\",\r\n        url: \"api/deleteCommodity\",\r\n        data: this.$qs.stringify({ cno: no })\r\n      })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          this.dialogVisible = false;\r\n          this.dialogVisible2 = false;\r\n          if (res.data == true) {\r\n            this.$alert(\"操作成功\", \"提示\", {\r\n              confirmButtonText: \"确定\"\r\n            });\r\n            this.$router.go(0)\r\n          }\r\n          else{\r\n            this.$alert(\"操作失败\", \"提示\", {\r\n              confirmButtonText: \"确定\"\r\n            });\r\n          }\r\n        })\r\n        .catch(Error => {\r\n          console.log(Error);\r\n        });\r\n    },\r\n\r\n    getstate(indexstate){\r\n      if (indexstate === 1){\r\n        return \"已付款\"\r\n      }\r\n      else if (indexstate === 2){\r\n        return \"已收货\"\r\n      }\r\n      else{\r\n        return \"未购买\"\r\n      }\r\n    },\r\n    prepareredelete(deletestate){\r\n      if(deletestate === 0 ){\r\n        this.$alert(\"此商品已发布，无法删除记录，只能下架\", \"提示\", {\r\n          confirmButtonText: \"确定\"\r\n        });\r\n      }\r\n      else if(deletestate === 1){\r\n        this.$alert(\"此商品已被锁定，无法删除记录，需等待交易完成之后才可删除记录\", \"提示\", {\r\n          confirmButtonText: \"确定\"\r\n        });\r\n      }\r\n      else{\r\n        this.dialogVisible = true\r\n      }\r\n    },\r\n\r\n    preparereout(outstate){\r\n      if(outstate === 2 ){\r\n        this.$alert(\"此商品已交易完成，无法下架，只能删除记录\", \"提示\", {\r\n          confirmButtonText: \"确定\"\r\n        });\r\n      }\r\n      else if(outstate === 1){\r\n        this.$alert(\"此商品已被锁定，无法下架，需等待交易完成后才可删除记录\", \"提示\", {\r\n          confirmButtonText: \"确定\"\r\n        });\r\n      }\r\n      else{\r\n        this.dialogVisible2 = true\r\n      }\r\n    },\r\n    //登出\r\n    loginOut() {\r\n      //防止路由记录\r\n      this.uno = \"\";\r\n      this.uname = \"\";\r\n      this.$router.push(\"/\");\r\n    },\r\n\r\n    back() {\r\n      this.$router.push({\r\n        name: \"Home\",\r\n        query: {\r\n          uname: this.uname,\r\n          uno: this.uno\r\n        }\r\n      });\r\n    },\r\n\r\n    //查看购买的商品\r\n    myOrder() {\r\n      this.$router.push({\r\n        name: \"MyOrder\",\r\n        query: {\r\n          uname: this.uname,\r\n          uno: this.uno\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style>\r\n.el-header {\r\n  background-color: #b3c0d1;\r\n  color: #333;\r\n  line-height: 60px;\r\n}\r\n\r\n.publish-button {\r\n  margin-right: 15px;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n}\r\n.el-aside {\r\n  margin-top: 8px;\r\n  font-size: 23px;\r\n  background-color: #a0cca0;\r\n  /* height: auto; */\r\n  color: darkslategray;\r\n}\r\n\r\n.el-row {\r\n  margin-bottom: 20px;\r\n}\r\n.el-col {\r\n  border-radius: 4px;\r\n}\r\n.bg-purple-dark {\r\n  background: #99a9bf;\r\n}\r\n.bg-purple {\r\n  background: #d3dce6;\r\n}\r\n.bg-purple-light {\r\n  background: #e5e9f2;\r\n}\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 50 px;\r\n}\r\n.row-bg {\r\n  padding: 10px 0;\r\n  background-color: #f9fafc;\r\n}\r\n</style>\r\n"]}]}