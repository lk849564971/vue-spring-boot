{"remainingRequest":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\eclipse\\Spring-boot\\front\\secondhand\\src\\components\\MyOrder.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\src\\components\\MyOrder.vue","mtime":1590637556915},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\eclipse\\Spring-boot\\front\\secondhand\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5lbC1hc2lkZSB7CiAgbWFyZ2luLXRvcDogOHB4OwogIGZvbnQtc2l6ZTogMjNweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7Cn0KCg=="},{"version":3,"sources":["MyOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6PA;AACA;AACA;AACA;AACA","file":"MyOrder.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-container style=\"margin-top:100px\">\n      <!-- 侧边栏 -->\n      <el-aside width=\"210px\">\n        <div style=\"margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px\">\n          <el-button style=\"font-size:15px; width:190px\" type=\"warning\" @click=\"loginOut()\" round>退出登录</el-button>\n          <br /><br />用户id:{{uno}}<br/>用户名:{{uname}}<br /><br />\n          <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"back()\" round>返回主页</el-button>\n          <br />\n          <br />\n          <el-button type=\"primary\" style=\"font-size:15px; width:190px\" @click=\"myCommodity()\" round>我的商品</el-button>\n        </div>\n      </el-aside>\n\n      <!-- 主要部分 -->\n      <el-main>\n        <el-card>\n        <!-- 列表头 -->\n        <el-row gutter=\"2\">\n          <el-col :span=\"3\">\n            <div>商品ID</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>名称</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>价格</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>描述</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>购买状态</div>\n          </el-col>\n          <el-col :span=\"3\">\n            <div>发售时间</div>\n          </el-col>\n        </el-row>\n        <!-- 列表 -->\n        <li v-for=\"(item,index) in listForm\" :key=\"item\">\n          <el-row gutter=\"2\">\n            <div>\n              <el-col :span=\"3\">\n                <div>{{item.cno}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{item.cname}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{item.cprice.toFixed(2)}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{item.cinformation}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{getstate(item.cstate)}}</div>\n              </el-col>\n              <el-col :span=\"3\">\n                <div>{{item.ctime}}</div>\n              </el-col>\n              <!-- 删除按钮 -->\n              <el-col :span=\"2\">\n                <div>\n                  <el-button type=\"danger\" @click=\"preparerefund(listForm[index].cstate)\">退款</el-button>\n                  <el-dialog\n                    title=\"退款确认\"\n                    :visible.sync=\"dialogVisible\"\n                    width=\"30%\"\n                    :before-close=\"handleClose\"\n                  >\n                    <el-button type=\"success\" @click=\"fund(listForm[index].cno)\">确认退款</el-button>\n                    <el-button type=\"warning\" @click=\"dialogVisible = false\">取消</el-button>\n                  </el-dialog>\n                </div>\n              </el-col>\n              <el-col :span=\"2\">\n                <div>\n                  <el-button type=\"success\" @click=\"prepareredeal(listForm[index].cstate)\">收货</el-button>\n                  <el-dialog\n                    title=\"收货确认\"\n                    :visible.sync=\"dialogVisible2\"\n                    width=\"30%\"\n                    :before-close=\"handleClose\"\n                  >\n                    <el-button type=\"success\" @click=\"deal(listForm[index].cno)\">确认收货</el-button>\n                    <el-button type=\"warning\" @click=\"dialogVisible2 = false\">取消</el-button>\n                  </el-dialog>\n                </div>\n              </el-col>\n            </div>\n          </el-row>\n        </li>\n        </el-card>\n      </el-main>\n    </el-container>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      drawer: false,\n      dialogVisible: false,\n      dialogVisible2: false,\n      uno: this.$route.query.uno,\n      uname: this.$route.query.uname,\n      buyid: \"\",\n      indexData:'',\n      listForm: this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"post\",\n        url: \"api/myBuyCommodity\",\n        data: this.$qs.stringify({ uno: this.$route.query.uno })\n      })\n        .then(res => {\n          this.listForm = res.data;\n        })\n        .catch(Error => {\n          console.log(Error);\n        })\n    };\n  },\n  methods: {\n    fund(no) {\n      this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"post\",\n        url: \"api/fundCommodity\",\n        data: this.$qs.stringify({ cno: no })\n      })\n        .then(res => {\n          console.log(res.data);\n          this.dialogVisible=false;\n          if (res.data == true) {\n            this.$alert(\"退款成功\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n            this.$router.go(0)\n          }\n          else{\n            this.$alert(\"退款失败\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n          }\n        })\n        .catch(Error => {\n          console.log(Error);\n        });\n    },\n\n    deal(no) {\n      this.$axios({\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        method: \"post\",\n        url: \"api/dealCommodity\",\n        data: this.$qs.stringify({ cno: no })\n      })\n        .then(res => {\n          console.log(res.data);\n          this.dialogVisible2=false;\n          if (res.data == true) {\n            this.$alert(\"收货成功\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n            this.$router.go(0)\n          }\n          else{\n            this.$alert(\"收货失败\", \"提示\", {\n              confirmButtonText: \"确定\"\n            });\n          }\n        })\n        .catch(Error => {\n          console.log(Error);\n        });\n    },\n\n    getstate(indexstate){\n      if (indexstate === 1){\n        return \"已付款\"\n      }\n      else if (indexstate === 2){\n        return \"已收货\"\n      }\n      else{\n        return \"未购买\"\n      }\n    },\n    preparerefund(fundstate){\n      if(fundstate === 2 ){\n        this.$alert(\"此商品已收货，无法退款\", \"提示\", {\n          confirmButtonText: \"确定\"\n        });\n      }\n      else if(fundstate === 0){\n        this.$alert(\"此商品已退款，无法再次退款\", \"提示\", {\n          confirmButtonText: \"确定\"\n        });\n      }\n      else{\n        this.dialogVisible = true\n      }\n    },\n\n    prepareredeal(dealstate){\n      if(dealstate === 2 ){\n        this.$alert(\"此商品已收货，无法再次收货\", \"提示\", {\n          confirmButtonText: \"确定\"\n        });\n      }\n      else if(dealstate === 0){\n        this.$alert(\"此商品已退款，无法收货\", \"提示\", {\n          confirmButtonText: \"确定\"\n        });\n      }\n      else{\n        this.dialogVisible2 = true\n      }\n    },\n    //登出\n    loginOut() {\n      //防止路由记录\n      this.uno = \"\";\n      this.uname = \"\";\n      this.$router.push(\"/\");\n    },\n\n    back() {\n      this.$router.push({\n        name: \"Home\",\n        query: {\n          uname: this.uname,\n          uno: this.uno\n        }\n      });\n    },\n\n    //查看购买的商品\n    myCommodity() {\n      this.$router.push({\n        name: \"MyCommdity\",\n        query: {\n          uname: this.uname,\n          uno: this.uno\n        }\n      });\n    }\n  }\n};\n</script>\n\n\n\n<style>\n.el-aside {\n  margin-top: 8px;\n  font-size: 23px;\n  background-color: rgb(255, 255, 255);\n}\n\n</style>\n"]}]}